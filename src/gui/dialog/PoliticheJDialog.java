/*
 * Azienda: Stylosoft
 * Nome file: PoliticheJDialog.java
 * Package: gui.dialog.java
 * Autore: Giordano Cariani
 * Data: 01/03/2008
 * Versione: 1.0
 * Licenza: open-source
 * Registro delle modifiche: *  
 *  - v.1.0 (01/03/2008): Creazione JDialog e impostazione grafica
 */

package gui.dialog;
import gui.SiGeMv2View;
/**
 *
 * @author  Jordy
 */
public class PoliticheJDialog extends javax.swing.JDialog {
    
    private ConfigurazioneAmbienteJDialog configurazioneAmbiente;
    private ProcessiJDialog processi;
    private SiGeMv2View view;
    
    private String politicaPagina;
    private String politicaSegmenti;
    private String politicaSchedulazione;
    
    /** Creates new form PoliticheJDialog */
    public PoliticheJDialog(java.awt.Frame parent, boolean modal, ConfigurazioneAmbienteJDialog conf, SiGeMv2View view) {
        super(parent, modal);
        configurazioneAmbiente = conf;
        this.view = view;
        initComponents();
        setPoliticaPagina((String)jComboBoxRimpiazzoPagine.getItemAt(0));
        setPoliticaSegmenti((String)jComboBoxRimpiazzoSegmenti.getItemAt(0));
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabelPolitiche = new javax.swing.JLabel();
        jLabelRimpiazzoPagine = new javax.swing.JLabel();
        jComboBoxRimpiazzoPagine = new javax.swing.JComboBox();
        jLabelRimpiazzoSegmenti = new javax.swing.JLabel();
        jComboBoxRimpiazzoSegmenti = new javax.swing.JComboBox();
        jLabelSchedulazione = new javax.swing.JLabel();
        jComboBoxSchedulazione = new javax.swing.JComboBox();
        jButtonIndietro = new javax.swing.JButton();
        jButtonAvanti = new javax.swing.JButton();
        jButtonAnnulla = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        jLabelPolitiche.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabelPolitiche.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabelPolitiche.setText("POLITICHE");

        jLabelRimpiazzoPagine.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabelRimpiazzoPagine.setText("Politica di rimpiazzo delle pagine");

        jComboBoxRimpiazzoPagine.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jComboBoxRimpiazzoPagine.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Not Recently Used (NRU)", "First In First Out (FIFO)", "Second Chance (SC)", "Clock (C)", "Least Recently Used (LRU)", "Not Frequently Used (NFU)", "Aging (A)" }));
        jComboBoxRimpiazzoPagine.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxRimpiazzoPagineActionPerformed(evt);
            }
        });

        jLabelRimpiazzoSegmenti.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabelRimpiazzoSegmenti.setText("Politica di rimpiazzo dei segmenti");

        jComboBoxRimpiazzoSegmenti.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jComboBoxRimpiazzoSegmenti.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "First-Fit", "Next-Fit", "Best-Fit", "Worst-Fit", "Quick-Fit" }));
        jComboBoxRimpiazzoSegmenti.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxRimpiazzoSegmentiActionPerformed(evt);
            }
        });

        jLabelSchedulazione.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabelSchedulazione.setText("Politica di schedulazione");

        jComboBoxSchedulazione.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jComboBoxSchedulazione.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "First-Come-First-Served (FCFS)", "Priorità (P)", "Round Robin (RR)", "Round Robin con priorità (RRP)", "Round Robin con priorità e prerilascio (RRPP)", "Shortest Job First (SJF)", "Shortest Remaining Time Next (SRTN)" }));
        jComboBoxSchedulazione.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxSchedulazioneActionPerformed(evt);
            }
        });

        jButtonIndietro.setText("Indietro");
        jButtonIndietro.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonIndietroActionPerformed(evt);
            }
        });

        jButtonAvanti.setText("Avanti");
        jButtonAvanti.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAvantiActionPerformed(evt);
            }
        });

        jButtonAnnulla.setText("Annulla");
        jButtonAnnulla.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonAnnullaActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabelPolitiche, javax.swing.GroupLayout.DEFAULT_SIZE, 380, Short.MAX_VALUE)
                            .addComponent(jLabelRimpiazzoPagine)
                            .addComponent(jComboBoxRimpiazzoPagine, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabelRimpiazzoSegmenti)
                            .addComponent(jComboBoxRimpiazzoSegmenti, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabelSchedulazione)
                            .addComponent(jComboBoxSchedulazione, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(56, 56, 56)
                        .addComponent(jButtonIndietro)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jButtonAvanti)
                        .addGap(18, 18, 18)
                        .addComponent(jButtonAnnulla)))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabelPolitiche)
                .addGap(18, 18, 18)
                .addComponent(jLabelRimpiazzoPagine)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jComboBoxRimpiazzoPagine, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(26, 26, 26)
                .addComponent(jLabelRimpiazzoSegmenti)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jComboBoxRimpiazzoSegmenti, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabelSchedulazione)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jComboBoxSchedulazione, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 38, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButtonIndietro)
                    .addComponent(jButtonAvanti)
                    .addComponent(jButtonAnnulla))
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jButtonIndietroActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonIndietroActionPerformed
        this.setVisible(false);
        configurazioneAmbiente.setVisible(true);
}//GEN-LAST:event_jButtonIndietroActionPerformed

    private void jButtonAvantiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonAvantiActionPerformed
        this.setVisible(false);
        processi = new ProcessiJDialog(view.getFrame(), true, configurazioneAmbiente, this, view);
        processi.setVisible(true);
    }//GEN-LAST:event_jButtonAvantiActionPerformed

    private void jButtonAnnullaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonAnnullaActionPerformed
        this.setVisible(false);
    }//GEN-LAST:event_jButtonAnnullaActionPerformed

    private void jComboBoxRimpiazzoPagineActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxRimpiazzoPagineActionPerformed
        setPoliticaPagina((String)jComboBoxRimpiazzoPagine.getItemAt(jComboBoxRimpiazzoPagine.getSelectedIndex()));
    }//GEN-LAST:event_jComboBoxRimpiazzoPagineActionPerformed

    private void jComboBoxRimpiazzoSegmentiActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxRimpiazzoSegmentiActionPerformed
        setPoliticaSegmenti((String)jComboBoxRimpiazzoSegmenti.getItemAt(jComboBoxRimpiazzoSegmenti.getSelectedIndex()));
    }//GEN-LAST:event_jComboBoxRimpiazzoSegmentiActionPerformed

    private void jComboBoxSchedulazioneActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxSchedulazioneActionPerformed
    setPoliticaSchedulazione((String)jComboBoxSchedulazione.getItemAt(jComboBoxSchedulazione.getSelectedIndex()));
    }//GEN-LAST:event_jComboBoxSchedulazioneActionPerformed
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButtonAnnulla;
    private javax.swing.JButton jButtonAvanti;
    private javax.swing.JButton jButtonIndietro;
    private javax.swing.JComboBox jComboBoxRimpiazzoPagine;
    private javax.swing.JComboBox jComboBoxRimpiazzoSegmenti;
    private javax.swing.JComboBox jComboBoxSchedulazione;
    private javax.swing.JLabel jLabelPolitiche;
    private javax.swing.JLabel jLabelRimpiazzoPagine;
    private javax.swing.JLabel jLabelRimpiazzoSegmenti;
    private javax.swing.JLabel jLabelSchedulazione;
    // End of variables declaration//GEN-END:variables

    public String getPoliticaPagina() {
        return politicaPagina;
    }

    public void setPoliticaPagina(String politicaPagina) {
        int inizio = politicaPagina.lastIndexOf("(");
        int fine = politicaPagina.lastIndexOf(")");
        this.politicaPagina = politicaPagina.substring(inizio+1, fine);
    }

    public String getPoliticaSegmenti() {
        return politicaSegmenti;
    }

    public void setPoliticaSegmenti(String politicaSegmenti) {
        this.politicaSegmenti = politicaSegmenti;
    }

    public String getPoliticaSchedulazione() {
        return politicaSchedulazione;
    }

    public void setPoliticaSchedulazione(String politicaSchedulazione) {
        int inizio = politicaSchedulazione.lastIndexOf("(");
        int fine = politicaSchedulazione.lastIndexOf(")");
        this.politicaSchedulazione = politicaSchedulazione.substring(inizio+1, fine);
    }
}
